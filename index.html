<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@username | cosmic bio</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">

    <style>
        /* --- Core Settings --- */
        :root {
            --accent: #00f3ff; /* Cyan */
            --accent-secondary: #bc13fe; /* Neon Purple */
            --bg-dark: #050508;
        }

        body {
            background-color: var(--bg-dark);
            /* Deep space gradient background */
            background-image: radial-gradient(circle at 50% 100%, #1d1d3b 0%, #050508 60%, #000000 100%);
            color: #ffffff;
            font-family: 'Outfit', sans-serif;
            overflow: hidden;
            cursor: none; /* Hide default cursor */
        }

        .mono { font-family: 'Space Mono', monospace; }

        /* --- Custom Cursor --- */
        #cursor {
            width: 20px;
            height: 20px;
            border: 1px solid var(--accent);
            box-shadow: 0 0 10px var(--accent);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            transition: transform 0.1s;
            mix-blend-mode: screen;
        }
        
        #cursor-dot {
            width: 4px;
            height: 4px;
            background-color: var(--accent);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 10px var(--accent);
        }

        .cursor-trail {
            position: fixed;
            width: 8px;
            height: 8px;
            background-color: var(--accent-secondary);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9998;
            transform: translate(-50%, -50%);
            transition: opacity 0.5s, transform 0.5s;
            box-shadow: 0 0 5px var(--accent-secondary);
        }

        /* --- CRT/Scanline Overlay --- */
        .scanlines {
            position: fixed;
            inset: 0;
            background: linear-gradient(
                to bottom,
                rgba(255,255,255,0),
                rgba(255,255,255,0) 50%,
                rgba(0,0,0,0.1) 50%,
                rgba(0,0,0,0.1)
            );
            background-size: 100% 3px;
            pointer-events: none;
            z-index: 50;
        }

        .vignette {
            position: fixed;
            inset: 0;
            background: radial-gradient(circle at center, transparent 0%, rgba(0,0,0,0.6) 100%);
            pointer-events: none;
            z-index: 49;
        }

        /* --- 3D Tilt Card --- */
        #perspective-container {
            perspective: 1000px;
        }

        #profile-card {
            background: rgba(10, 10, 20, 0.4);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 20px 50px rgba(0,0,0,0.5), inset 0 0 0 1px rgba(255,255,255,0.05);
            transform-style: preserve-3d;
            will-change: transform;
        }

        /* Inner glow border animation - Gradient for cosmic feel */
        #profile-card::before {
            content: '';
            position: absolute;
            inset: -1px;
            z-index: -1;
            background: linear-gradient(45deg, transparent, var(--accent), var(--accent-secondary), transparent);
            border-radius: inherit;
            opacity: 0.6;
            animation: border-rotate 4s linear infinite;
            background-size: 200% 200%;
        }

        @keyframes border-rotate {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* --- Audio Visualizer --- */
        .visualizer-container {
            display: flex;
            align-items: flex-end;
            justify-content: center;
            gap: 3px;
            height: 20px;
        }
        .bar {
            width: 3px;
            background: linear-gradient(to top, var(--accent), var(--accent-secondary));
            border-radius: 2px;
            animation: bounce 1s infinite ease-in-out;
            box-shadow: 0 0 8px var(--accent);
        }
        .bar:nth-child(1) { animation-duration: 0.8s; height: 40%; }
        .bar:nth-child(2) { animation-duration: 1.1s; height: 70%; }
        .bar:nth-child(3) { animation-duration: 1.3s; height: 100%; }
        .bar:nth-child(4) { animation-duration: 0.9s; height: 60%; }
        .bar:nth-child(5) { animation-duration: 1.2s; height: 30%; }

        @keyframes bounce {
            0%, 100% { transform: scaleY(0.5); opacity: 0.5; }
            50% { transform: scaleY(1); opacity: 1; }
        }

        /* --- Text Effects --- */
        .username-glow {
            text-shadow: 0 0 15px rgba(0, 243, 255, 0.6), 0 0 30px rgba(188, 19, 254, 0.4);
        }
        
        /* Tooltip */
        .tooltip {
            visibility: hidden;
            position: absolute;
            bottom: 120%;
            left: 50%;
            transform: translateX(-50%) translateY(10px);
            background: rgba(10, 10, 20, 0.9);
            border: 1px solid var(--accent);
            color: var(--accent);
            box-shadow: 0 0 10px rgba(0, 243, 255, 0.2);
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.75rem;
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            white-space: nowrap;
            pointer-events: none;
            letter-spacing: 1px;
        }
        
        .group:hover .tooltip {
            visibility: visible;
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        /* Badge pulsing */
        .pulse-dot {
            box-shadow: 0 0 0 0 rgba(0, 243, 255, 0.7);
            animation: pulse-cyan 2s infinite;
            background-color: var(--accent);
        }
        
        @keyframes pulse-cyan {
            0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(0, 243, 255, 0.7); }
            70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(0, 243, 255, 0); }
            100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(0, 243, 255, 0); }
        }

        /* --- Admin Panel Styles --- */
        #admin-panel {
            backdrop-filter: blur(20px);
            background: rgba(0,0,0,0.85);
            border-left: 1px solid rgba(255,255,255,0.1);
        }
        .admin-input {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            width: 100%;
            margin-bottom: 12px;
            font-family: 'Space Mono', monospace;
            font-size: 0.8rem;
            outline: none;
            transition: all 0.2s;
        }
        .admin-input:focus {
            border-color: var(--accent);
            background: rgba(255,255,255,0.1);
        }
        .admin-label {
            display: block;
            font-size: 0.7rem;
            color: #888;
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        /* Password Modal */
        #password-modal {
            backdrop-filter: blur(10px);
            background: rgba(0,0,0,0.9);
        }
    </style>
</head>
<body>

    <!-- Cursor System -->
    <div id="cursor"></div>
    <div id="cursor-dot"></div>

    <!-- Overlays -->
    <div class="scanlines"></div>
    <div class="vignette"></div>

    <!-- Background Canvas -->
    <canvas id="bg-canvas" class="fixed top-0 left-0 w-full h-full -z-10"></canvas>

    <!-- Admin Trigger (Gear Icon) - Increased Z-Index and Size -->
    <div id="admin-trigger" class="fixed bottom-4 right-4 z-[9999] opacity-30 hover:opacity-100 transition-opacity cursor-pointer p-4 group">
        <i class="fas fa-cog text-white text-2xl group-hover:rotate-90 transition-transform duration-700"></i>
    </div>

    <!-- Password Modal -->
    <div id="password-modal" class="fixed inset-0 z-[10000] hidden flex items-center justify-center">
        <div class="bg-gray-900 border border-cyan-500/30 p-8 rounded-xl shadow-[0_0_50px_rgba(0,243,255,0.2)] w-80 text-center">
            <h3 class="text-cyan-400 font-bold mb-4 tracking-widest text-sm">Panel ( Tu nic neuděláš :) )</h3>
            <input type="password" id="password-input" class="admin-input text-center tracking-widest" placeholder="PASSWORD">
            <div class="flex gap-2 mt-4">
                <button id="cancel-pass" class="flex-1 py-2 text-xs text-gray-400 hover:text-white border border-gray-700 rounded hover:bg-gray-800 transition-colors">CANCEL</button>
                <button id="submit-pass" class="flex-1 py-2 text-xs bg-cyan-500/20 text-cyan-400 border border-cyan-500/50 rounded hover:bg-cyan-500/40 transition-colors">ACCESS</button>
            </div>
            <p id="pass-error" class="text-red-500 text-[10px] mt-2 hidden">ACCESS DENIED</p>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="admin-panel" class="fixed top-0 right-0 h-full w-80 z-[9998] transform translate-x-full transition-transform duration-300 overflow-y-auto p-6 shadow-2xl">
        <div class="flex justify-between items-center mb-8 border-b border-white/10 pb-4">
            <h2 class="text-xl font-bold text-white tracking-wider">CONFIG</h2>
            <button id="close-admin" class="text-gray-400 hover:text-white"><i class="fas fa-times"></i></button>
        </div>

        <div class="space-y-6 pb-20">
            <!-- Profile Section -->
            <div class="space-y-3">
                <h3 class="text-cyan-400 text-xs font-bold tracking-widest border-b border-cyan-500/20 pb-1">PROFILE</h3>
                <div>
                    <label class="admin-label">Username</label>
                    <input type="text" id="admin-username" class="admin-input" placeholder="Enter username">
                </div>
                <div>
                    <label class="admin-label">PFP URL</label>
                    <input type="text" id="admin-pfp" class="admin-input" placeholder="Image URL">
                </div>
                <div>
                    <label class="admin-label">Badge Text</label>
                    <input type="text" id="admin-badge" class="admin-input" placeholder="e.g. OWNER">
                </div>
            </div>

            <!-- Content Section -->
            <div class="space-y-3">
                <h3 class="text-cyan-400 text-xs font-bold tracking-widest border-b border-cyan-500/20 pb-1">CONTENT</h3>
                <div>
                    <label class="admin-label">Roles (comma separated)</label>
                    <textarea id="admin-roles" class="admin-input h-16" placeholder="Dev, Gamer..."></textarea>
                </div>
                <div>
                    <label class="admin-label">Background Audio URL</label>
                    <input type="text" id="admin-audio" class="admin-input" placeholder="MP3 Link">
                </div>
                 <div>
                    <label class="admin-label">Discord ID (Click to Copy)</label>
                    <input type="text" id="admin-discord" class="admin-input" placeholder="user#0000">
                </div>
            </div>

            <!-- Social Links Section -->
            <div class="space-y-4">
                <h3 class="text-cyan-400 text-xs font-bold tracking-widest border-b border-cyan-500/20 pb-1">SOCIAL LINKS</h3>
                
                <!-- Link 1 -->
                <div class="bg-white/5 p-3 rounded-lg">
                    <label class="admin-label text-white">Link 1 (Default Instagram)</label>
                    <input type="text" id="admin-l1-label" class="admin-input mb-1" placeholder="Label (e.g. YouTube)">
                    <input type="text" id="admin-l1-icon" class="admin-input mb-1" placeholder="Icon (fab fa-youtube)">
                    <input type="text" id="admin-l1-url" class="admin-input" placeholder="https://...">
                </div>

                <!-- Link 2 -->
                <div class="bg-white/5 p-3 rounded-lg">
                    <label class="admin-label text-white">Link 2 (Default Twitter)</label>
                    <input type="text" id="admin-l2-label" class="admin-input mb-1" placeholder="Label">
                    <input type="text" id="admin-l2-icon" class="admin-input mb-1" placeholder="Icon Class">
                    <input type="text" id="admin-l2-url" class="admin-input" placeholder="https://...">
                </div>

                <!-- Link 3 -->
                <div class="bg-white/5 p-3 rounded-lg">
                    <label class="admin-label text-white">Link 3 (Default Github)</label>
                    <input type="text" id="admin-l3-label" class="admin-input mb-1" placeholder="Label">
                    <input type="text" id="admin-l3-icon" class="admin-input mb-1" placeholder="Icon Class">
                    <input type="text" id="admin-l3-url" class="admin-input" placeholder="https://...">
                </div>
            </div>

            <div class="pt-4 flex gap-2 sticky bottom-0 bg-[#050508] pb-4 border-t border-white/10">
                <button onclick="saveConfig()" class="flex-1 bg-cyan-500/20 border border-cyan-500 text-cyan-400 py-3 rounded hover:bg-cyan-500/40 transition-colors font-bold text-sm tracking-widest">SAVE SYSTEM</button>
                <button onclick="resetConfig()" class="px-4 border border-red-500/50 text-red-400 rounded hover:bg-red-500/20 transition-colors text-sm"><i class="fas fa-trash"></i></button>
            </div>
        </div>
    </div>

    <!-- Click to Enter -->
    <div id="enter-overlay" class="fixed inset-0 z-[100] bg-black flex flex-col items-center justify-center cursor-pointer transition-all duration-1000">
        <div class="relative">
            <p class="mono text-white/70 text-sm tracking-[0.5em] uppercase hover:text-white transition-colors duration-300 animate-pulse">
                [ click anywhere ]
            </p>
        </div>
    </div>

    <!-- Main Content Container -->
    <div id="main-content" class="hidden min-h-screen flex items-center justify-center p-4 relative z-20 overflow-hidden" id="perspective-container">
        
        <!-- 3D Tilt Card -->
        <div id="profile-card" class="w-full max-w-[400px] rounded-2xl p-8 opacity-0 translate-y-8 transition-all duration-1000 ease-out">
            
            <div class="flex flex-col items-center relative z-10">
                
                <!-- PFP Section -->
                <div class="relative group mb-8">
                    <!-- Glow behind PFP -->
                    <div class="absolute -inset-0.5 bg-gradient-to-br from-[#00f3ff] to-[#bc13fe] rounded-full blur opacity-50 group-hover:opacity-100 transition duration-500"></div>
                    
                    <!-- Image -->
                    <div class="relative w-32 h-32 rounded-full p-[2px] bg-black overflow-hidden border border-white/10">
                        <img id="profile-image" src="https://i.pravatar.cc/300?img=59" alt="Profile" class="w-full h-full rounded-full object-cover filter brightness-100 contrast-110 hover:scale-110 transition-transform duration-500">
                    </div>

                    <!-- Online Badge -->
                    <div class="absolute bottom-2 right-2 w-5 h-5 bg-[#050508] rounded-full flex items-center justify-center" title="Online">
                        <div class="w-3 h-3 rounded-full pulse-dot"></div>
                    </div>
                </div>

                <!-- Identity -->
                <div class="text-center mb-6">
                    <div class="flex items-center justify-center gap-2 mb-1">
                        <h1 id="username-display" class="text-3xl font-bold text-white tracking-tight username-glow">username</h1>
                        <span id="badge-display" class="bg-[#00f3ff]/10 text-[#00f3ff] border border-[#00f3ff]/30 rounded px-1.5 py-0.5 text-[10px] uppercase font-bold tracking-wider shadow-[0_0_10px_rgba(0,243,255,0.2)]">COSMIC</span>
                    </div>
                    
                    <div class="h-6 flex items-center justify-center gap-2 text-sm text-[#a0a0ff] mono">
                        <span class="text-[#bc13fe]">&lt;</span>
                        <span id="typewriter"></span>
                        <span class="animate-pulse text-[#bc13fe]">/&gt;</span>
                    </div>
                </div>

                <!-- Visualizer (Decoration) -->
                <div class="visualizer-container mb-8">
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                </div>

                <!-- Links Grid -->
                <div class="grid grid-cols-4 gap-3 w-full mb-8">
                    
                    <!-- Discord (Fixed Slot) -->
                    <div onclick="copyDiscord()" class="group relative flex items-center justify-center aspect-square rounded-xl bg-white/5 border border-white/5 hover:bg-[#5865F2]/20 hover:border-[#5865F2]/50 hover:scale-105 transition-all duration-300 cursor-pointer shadow-lg hover:shadow-[#5865F2]/20">
                        <i class="fab fa-discord text-xl text-gray-300 group-hover:text-[#5865F2] transition-colors"></i>
                        <span class="tooltip" id="discord-tooltip">Copy ID</span>
                    </div>

                    <!-- Link 1 (Default Instagram) -->
                    <a id="link-1" href="#" target="_blank" class="group relative flex items-center justify-center aspect-square rounded-xl bg-white/5 border border-white/5 hover:bg-[#E1306C]/20 hover:border-[#E1306C]/50 hover:scale-105 transition-all duration-300 cursor-pointer shadow-lg hover:shadow-[#E1306C]/20">
                        <i id="icon-1" class="fab fa-instagram text-xl text-gray-300 group-hover:text-[#E1306C] transition-colors"></i>
                        <span id="label-1" class="tooltip">Instagram</span>
                    </a>

                    <!-- Link 2 (Default Twitter) -->
                    <a id="link-2" href="#" target="_blank" class="group relative flex items-center justify-center aspect-square rounded-xl bg-white/5 border border-white/5 hover:bg-[#1DA1F2]/20 hover:border-[#1DA1F2]/50 hover:scale-105 transition-all duration-300 cursor-pointer shadow-lg hover:shadow-[#1DA1F2]/20">
                        <i id="icon-2" class="fa-brands fa-x-twitter text-xl text-gray-300 group-hover:text-[#1DA1F2] transition-colors"></i>
                        <span id="label-2" class="tooltip">Twitter</span>
                    </a>

                    <!-- Link 3 (Default Github) -->
                    <a id="link-3" href="#" target="_blank" class="group relative flex items-center justify-center aspect-square rounded-xl bg-white/5 border border-white/5 hover:bg-[#bd00ff]/20 hover:border-[#bd00ff]/50 hover:scale-105 transition-all duration-300 cursor-pointer shadow-lg hover:shadow-[#bd00ff]/20">
                        <i id="icon-3" class="fab fa-github text-xl text-gray-300 group-hover:text-[#bd00ff] transition-colors"></i>
                        <span id="label-3" class="tooltip">Github</span>
                    </a>

                </div>

                <!-- Stats / Footer -->
                <div class="w-full flex justify-between items-center text-[10px] text-gray-500 uppercase tracking-widest border-t border-white/10 pt-4 mono">
                    <div class="flex items-center gap-2">
                        <i class="fas fa-globe text-gray-600"></i>
                        <span>EST 2024</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <i class="fas fa-eye text-gray-600"></i>
                        <span id="view-count">0</span>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Audio -->
    <audio id="bg-music" loop>
        <source src="" type="audio/mpeg">
    </audio>

    <script>
        // --- Default Configuration ---
        let config = {
            username: "username",
            pfpUrl: "https://i.pravatar.cc/300?img=59",
            badgeText: "COSMIC",
            discordId: "user#0000",
            roles: ["Developer", "Pentester", "Gamer", "Night Owl"],
            audioUrl: "",
            
            // Customizable Links
            link1: { label: "Instagram", icon: "fab fa-instagram", url: "#" },
            link2: { label: "Twitter", icon: "fa-brands fa-x-twitter", url: "#" },
            link3: { label: "Github", icon: "fab fa-github", url: "#" },

            typingSpeed: 100,
            deleteSpeed: 50,
            pauseTime: 2000
        };

        // --- Elements ---
        const overlay = document.getElementById('enter-overlay');
        const mainContent = document.getElementById('main-content');
        const profileCard = document.getElementById('profile-card');
        const audio = document.getElementById('bg-music');
        const typewriterSpan = document.getElementById('typewriter');
        
        // Admin & Security Elements
        const adminPanel = document.getElementById('admin-panel');
        const adminTrigger = document.getElementById('admin-trigger');
        const closeAdmin = document.getElementById('close-admin');
        const passModal = document.getElementById('password-modal');
        const passInput = document.getElementById('password-input');
        const submitPass = document.getElementById('submit-pass');
        const cancelPass = document.getElementById('cancel-pass');
        const passError = document.getElementById('pass-error');
        
        // UI Elements
        const elUsername = document.getElementById('username-display');
        const elPfp = document.getElementById('profile-image');
        const elBadge = document.getElementById('badge-display');
        
        // --- Initialization ---
        function init() {
            // Load from local storage
            const savedConfig = localStorage.getItem('bioConfig');
            if (savedConfig) {
                // Merge saved config with default to ensure new fields exist
                const parsed = JSON.parse(savedConfig);
                config = { ...config, ...parsed };
                // Ensure nested objects exist if migrating from old version
                if(!config.link1) config.link1 = { label: "Instagram", icon: "fab fa-instagram", url: "#" };
                if(!config.link2) config.link2 = { label: "Twitter", icon: "fa-brands fa-x-twitter", url: "#" };
                if(!config.link3) config.link3 = { label: "Github", icon: "fab fa-github", url: "#" };
            }
            applyConfig();
        }

        function applyConfig() {
            elUsername.innerText = config.username;
            elPfp.src = config.pfpUrl;
            elBadge.innerText = config.badgeText;
            if (config.audioUrl) audio.src = config.audioUrl;

            // Apply Links
            applyLink('link-1', 'icon-1', 'label-1', config.link1);
            applyLink('link-2', 'icon-2', 'label-2', config.link2);
            applyLink('link-3', 'icon-3', 'label-3', config.link3);
        }

        function applyLink(LinkId, IconId, LabelId, linkData) {
            const linkEl = document.getElementById(LinkId);
            const iconEl = document.getElementById(IconId);
            const labelEl = document.getElementById(LabelId);

            linkEl.href = linkData.url;
            iconEl.className = `${linkData.icon} text-xl text-gray-300 group-hover:text-white transition-colors`;
            labelEl.innerText = linkData.label;
        }

        // --- Admin Logic ---
        
        // 1. Trigger Click -> Show Password Modal
        adminTrigger.addEventListener('click', () => {
            passModal.classList.remove('hidden');
            passInput.value = "";
            passError.classList.add('hidden');
            passInput.focus();
        });

        // 2. Submit Password
        submitPass.addEventListener('click', checkPassword);
        passInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') checkPassword();
        });

        function checkPassword() {
            // --- SECURITY CHECK ---
            if (passInput.value === "StarDust!99") { 
                passModal.classList.add('hidden');
                adminPanel.classList.remove('translate-x-full');
                populateAdminFields();
            } else {
                passError.classList.remove('hidden');
                passInput.classList.add('border-red-500');
                setTimeout(() => passInput.classList.remove('border-red-500'), 500);
            }
        }

        // 3. Close/Cancel
        cancelPass.addEventListener('click', () => {
            passModal.classList.add('hidden');
        });

        closeAdmin.addEventListener('click', () => {
            adminPanel.classList.add('translate-x-full');
        });

        function populateAdminFields() {
            document.getElementById('admin-username').value = config.username;
            document.getElementById('admin-pfp').value = config.pfpUrl;
            document.getElementById('admin-badge').value = config.badgeText;
            document.getElementById('admin-discord').value = config.discordId;
            document.getElementById('admin-roles').value = config.roles.join(', ');
            document.getElementById('admin-audio').value = config.audioUrl;
            
            // Populate Links
            document.getElementById('admin-l1-label').value = config.link1.label;
            document.getElementById('admin-l1-icon').value = config.link1.icon;
            document.getElementById('admin-l1-url').value = config.link1.url;

            document.getElementById('admin-l2-label').value = config.link2.label;
            document.getElementById('admin-l2-icon').value = config.link2.icon;
            document.getElementById('admin-l2-url').value = config.link2.url;

            document.getElementById('admin-l3-label').value = config.link3.label;
            document.getElementById('admin-l3-icon').value = config.link3.icon;
            document.getElementById('admin-l3-url').value = config.link3.url;
        }

        window.saveConfig = function() {
            config.username = document.getElementById('admin-username').value;
            config.pfpUrl = document.getElementById('admin-pfp').value;
            config.badgeText = document.getElementById('admin-badge').value;
            config.discordId = document.getElementById('admin-discord').value;
            config.audioUrl = document.getElementById('admin-audio').value;
            
            const rolesStr = document.getElementById('admin-roles').value;
            config.roles = rolesStr.split(',').map(r => r.trim()).filter(r => r);

            // Save Links
            config.link1 = {
                label: document.getElementById('admin-l1-label').value,
                icon: document.getElementById('admin-l1-icon').value,
                url: document.getElementById('admin-l1-url').value
            };
            config.link2 = {
                label: document.getElementById('admin-l2-label').value,
                icon: document.getElementById('admin-l2-icon').value,
                url: document.getElementById('admin-l2-url').value
            };
            config.link3 = {
                label: document.getElementById('admin-l3-label').value,
                icon: document.getElementById('admin-l3-icon').value,
                url: document.getElementById('admin-l3-url').value
            };

            localStorage.setItem('bioConfig', JSON.stringify(config));
            applyConfig();
            adminPanel.classList.add('translate-x-full'); // Close panel
            alert('System Updated.');
            location.reload(); 
        };

        window.resetConfig = function() {
            if(confirm("Factory Reset? This will clear all customization.")) {
                localStorage.removeItem('bioConfig');
                location.reload();
            }
        };

        // --- 1. Warp Speed Background (3D Starfield) ---
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        let stars = [];
        const numStars = 500; 
        const warpSpeed = 1.5; 
        const starColors = ["#ffffff", "#00f3ff", "#bc13fe", "#4d4dff"]; 

        function resizeCanvas() {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
            stars = [];
            for (let i = 0; i < numStars; i++) {
                stars.push(createStar());
            }
        }

        function createStar() {
            return {
                x: Math.random() * width - width / 2, 
                y: Math.random() * height - height / 2,
                z: Math.random() * width, 
                color: starColors[Math.floor(Math.random() * starColors.length)]
            };
        }

        function drawStars() {
            ctx.fillStyle = "rgba(5, 5, 8, 0.4)";
            ctx.fillRect(0, 0, width, height);
            
            const cx = width / 2;
            const cy = height / 2;

            stars.forEach(star => {
                star.z -= warpSpeed;

                if (star.z <= 0) {
                    star.x = Math.random() * width - width / 2;
                    star.y = Math.random() * height - height / 2;
                    star.z = width;
                }

                const k = 128.0 / star.z; 
                const px = star.x * k + cx;
                const py = star.y * k + cy;

                const size = (1 - star.z / width) * 2.5;
                const opacity = (1 - star.z / width);

                if (px >= 0 && px <= width && py >= 0 && py <= height) {
                    ctx.globalAlpha = opacity;
                    ctx.fillStyle = star.color;
                    ctx.beginPath();
                    ctx.arc(px, py, size, 0, Math.PI * 2);
                    ctx.fill();
                    
                    if(size > 1.5) {
                        ctx.shadowBlur = 10;
                        ctx.shadowColor = star.color;
                    } else {
                        ctx.shadowBlur = 0;
                    }
                }
            });
            ctx.shadowBlur = 0; 
            requestAnimationFrame(drawStars);
        }

        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();
        drawStars();

        // --- 2. Advanced Cursor System ---
        const cursor = document.getElementById('cursor');
        const cursorDot = document.getElementById('cursor-dot');
        let mouseX = 0, mouseY = 0;
        let cursorX = 0, cursorY = 0;

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
            
            cursorDot.style.left = mouseX + 'px';
            cursorDot.style.top = mouseY + 'px';

            createTrail(mouseX, mouseY);
        });

        function animateCursor() {
            const dx = mouseX - cursorX;
            const dy = mouseY - cursorY;
            
            cursorX += dx * 0.15;
            cursorY += dy * 0.15;
            
            cursor.style.left = cursorX + 'px';
            cursor.style.top = cursorY + 'px';
            
            requestAnimationFrame(animateCursor);
        }
        animateCursor();

        function createTrail(x, y) {
            const trail = document.createElement('div');
            trail.className = 'cursor-trail';
            trail.style.left = x + 'px';
            trail.style.top = y + 'px';
            document.body.appendChild(trail);

            setTimeout(() => {
                trail.style.transform = 'translate(-50%, -50%) scale(0)';
                trail.style.opacity = '0';
            }, 10);

            setTimeout(() => {
                trail.remove();
            }, 500);
        }

        // --- 3. 3D Tilt Effect ---
        const card = document.getElementById('profile-card');
        const container = document.getElementById('main-content');

        container.addEventListener('mousemove', (e) => {
            const rect = card.getBoundingClientRect();
            const x = e.clientX - rect.left; 
            const y = e.clientY - rect.top;
            
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;
            
            const rotateX = ((y - centerY) / centerY) * -10; 
            const rotateY = ((x - centerX) / centerX) * 10;

            card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
        });

        container.addEventListener('mouseleave', () => {
            card.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg)`;
        });

        // --- 4. Entry & Typewriter Logic ---
        overlay.addEventListener('click', () => {
            overlay.style.opacity = '0';
            overlay.style.pointerEvents = 'none';

            if(audio.getAttribute('src')) {
                audio.volume = 0.2;
                audio.play().catch(() => {});
            }

            mainContent.classList.remove('hidden');
            setTimeout(() => {
                profileCard.classList.remove('opacity-0', 'translate-y-8');
                startTypewriter();
                incrementViews();
            }, 500);
        });

        function startTypewriter() {
            let roleIndex = 0;
            let charIndex = 0;
            let isDeleting = false;

            function type() {
                const currentRole = config.roles[roleIndex];
                const speed = isDeleting ? config.deleteSpeed : config.typingSpeed;

                if (!isDeleting && charIndex < currentRole.length) {
                    typewriterSpan.textContent += currentRole.charAt(charIndex);
                    charIndex++;
                    setTimeout(type, speed);
                } else if (isDeleting && charIndex > 0) {
                    typewriterSpan.textContent = currentRole.substring(0, charIndex - 1);
                    charIndex--;
                    setTimeout(type, speed);
                } else {
                    isDeleting = !isDeleting;
                    if (!isDeleting) {
                        roleIndex = (roleIndex + 1) % config.roles.length;
                    }
                    setTimeout(type, config.pauseTime);
                }
            }
            type();
        }

        function copyDiscord() {
            navigator.clipboard.writeText(config.discordId);
            const tooltip = document.getElementById('discord-tooltip');
            const originalText = tooltip.innerText;
            tooltip.innerText = "Copied!";
            tooltip.style.opacity = "1";
            tooltip.style.visibility = "visible";
            
            setTimeout(() => {
                tooltip.innerText = originalText;
                tooltip.style.opacity = "";
                tooltip.style.visibility = "";
            }, 2000);
        }

        function incrementViews() {
            const counter = document.getElementById('view-count');
            let views = 1337;
            const interval = setInterval(() => {
                views += Math.floor(Math.random() * 10);
                counter.innerText = views;
                if(views > 1400) clearInterval(interval);
            }, 100);
        }

        // Start initialization
        init();

    </script>
</body>
</html>